<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <title>
        waveshader
    </title>
    <meta name="keywords" content="">
    <meta name="x5-fullscreen" content="false" />
    <meta name="x5-orientation" content="portrait" />
    <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <meta content="telephone=no" name="format-detection">
    <meta content="address=no" name="format-detection">
    <link href="../assets/img/favicon.png" rel="shortcut icon">
    <link rel="stylesheet" href="../assets/css/css.min.css">
</head>

<body>
     <div class="container" id="container"></div>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/three.js/87/three.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.6.5/dat.gui.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/stats.js/r16/Stats.min.js"></script>
     
     <script id="waveFragmentShader" type="x-shader/x-fragment">
       precision highp float;float mirrored(float v) { float m = mod(v, 2.0); return mix(m, 2.0 - m, step(1.0, m));}vec2 mirrored(vec2 v) { vec2 m = mod(v, 2.0); return mix(m, 2.0 - m, step(1.0, m));}vec3 mirrored(vec3 v) { vec3 m = mod(v, 2.0); return mix(m, 2.0 - m, step(1.0, m));}vec4 mirrored(vec4 v) { vec4 m = mod(v, 2.0); return mix(m, 2.0 - m, step(1.0, m));}float linear(float t) { return t;}float tri(float v) { return mix(v, 1.0 - v, step(0.5, v)) * 2.0;}vec2 tri(vec2 v) { return mix(v, 1.0 - v, step(0.5, v)) * 2.0;}vec3 tri(vec3 v) { return mix(v, 1.0 - v, step(0.5, v)) * 2.0;}vec4 tri(vec4 v) { return mix(v, 1.0 - v, step(0.5, v)) * 2.0;}varying vec2 vUv;varying float vDark;uniform vec4 time;uniform float progress;uniform vec2 translate;uniform vec2 delay;uniform vec2 accel;uniform float edge;uniform vec4 waveAmpFreq;uniform vec4 waveSpeedPhase;uniform vec2 waveBlend;uniform float opacity;uniform sampler2D texture1;uniform sampler2D texture2;void main() { vec2 uv = vUv;  float delayValue = progress * (1.0 + delay.x + delay.y) - uv.y * delay.y - (1.0 - uv.x) * delay.x; delayValue = linear(clamp(delayValue, 0.0, 1.0));  float progressValue = linear(progress); vec2 translateValue = progressValue + delayValue * accel.xy; vec2 translateValue1 = translate * translateValue; vec2 translateValue2 = translate * (translateValue - 1.0 - accel.xy); vec2 w = sin(time.y * waveSpeedPhase.xy + uv.yx * waveAmpFreq.zw + waveSpeedPhase.zw) * waveAmpFreq.xy; vec2 xy = (tri(progress) * waveBlend.x + tri(delayValue) * waveBlend.y) * w; vec2 uv1 = vUv + translateValue1 + xy; vec2 uv2 = vUv + translateValue2 + xy; vec4 rgba1 = texture2D(texture1, mirrored(uv1)); vec4 rgba2 = texture2D(texture2, mirrored(uv2)); float threshold = step(1.0 - uv.x, delayValue); vec4 rgba = mix(rgba1, rgba2, mix(delayValue, threshold, edge)); rgba *= vec4(vec3(vDark), opacity); gl_FragColor = rgba;}
    </script>
    <script id="waveVertexShader" type="x-shader/x-vertex">
         precision highp float;
        #define PI_H 1.5707963267948966
        attribute vec3 position;
        attribute vec2 uv;
        varying float vDark;
        varying vec2 vUv;
        uniform vec3 textureSize;
        uniform vec3 hover;
        uniform vec4 corners;
        uniform float sway;
        uniform float zoomScale;
        uniform vec4 time;
        uniform mat4 modelMatrix;
        uniform mat4 viewMatrix;
        uniform mat4 modelViewMatrix;
        uniform mat4 projectionMatrix;
        uniform vec3 cameraPosition;
        const float AREA1 = 300.0;
        const float AREA2 = 700.0;
        void main() {
         vUv = uv;
         float _corners = mix(mix(corners.z, corners.w, uv.x), mix(corners.x, corners.y, uv.x), uv.y);

         vec3 _position = position;
         vec4 _slide = vec4(_position, 1.0);
         _slide.z += zoomScale;

         vec4 _list = modelMatrix * vec4(position, 1.0);

         float _len1 = length((uv - hover.xy) * textureSize.xy);
         float _str1 = max(0.0, (1.0 - _len1 / AREA1));
         float _len2 = length(_list.xy);
         float _str2 = clamp(1.0 - _len2 / AREA2, 0.25, 1.0);
         float _sway1 = (
         sin(time.y * 1.0 + _len2 / 256.0) * 128.0 +
         sin(time.y * 2.0 + _len2 / 32.0) * 64.0
         ) * sway;
         float _sway2 = sin(time.y * 1.0 + _len1 / 32.0) * 24.0 * _str1 * _str2 * hover.z;
         _list.z += _sway1 + _sway2;
         _slide.z += _sway1;
         vDark = mix(1.0, 0.7, _corners);
         gl_Position = projectionMatrix * viewMatrix * mix(_list, _slide, _corners);
         }
      </script>

    <script src="../assets/js/main.min.js"></script>
</body>

</html>